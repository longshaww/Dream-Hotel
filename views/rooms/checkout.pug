extends ../layouts/general
block content
    h1 Checkout
    if errors 
        each error in errors 
            .alert.alert-danger=error
    form(method="POST" action="/rooms/checkout" id="form")
        .from-group.mb-3
            label(for="room_id") Phòng
            input#room_id.form-control(name="room_id" type="text")
    button.btn.btn-dark(type="submit" form="form") Kiểm tra
    if checkout
        h3 Thông tin khách hàng
        .table-responsive
            table.table
                thead
                    tr
                        th.col="Phòng"
                        th.col="Tên"
                        th.col="Phone"
                        th.col="Từ ngày"
                        th.col="Giá phòng"
                tbody
                    tr
                        th(scope="row")=checkout.room_id 
                        if checkout.customer
                            td=checkout.customer.name 
                            td=checkout.customer.phone
                            td=checkout.customer.checkin_date + "-" + checkout.customer.checkout_date
                            td=checkout.price
            table.table
                thead 
                    tr 
                        th.col="Tổng"
                        th.col="Số ngày ở"
                        th.col="Giá phòng"
                        th.col="Thanh toán"
                tbody 
                    tr
                        if(duration)
                            th(scope="row")="Số ngày ở X Giá phòng = "+checkout.price.slice(1)*duration
                            td=duration
                            td=checkout.price
                            td
                                a.btn.btn-dark(href="/rooms/checkout/online") Thanh toán online 
                                form(method="POST" action="/rooms/checkout/cash" id="cashform")
                                button.btn.btn-dark(form="cashform") Thanh toán tiền mặt

            
